# okxtest

1.从OKX的网站上找到适合进行套利的token，处理以后按币的市值排序，选前50大的币编入套利set

2.checkarbitrage.py检测套利set中所有币是否有潜在机会套利，机会属于正套还是反套。

3.检查套利机会时，暂时全部使用了限价单手续费，

4.origin是项目最初原始草稿代码，test1是使用okx提供的sdk完成的同步代码，test2是根据api文档自己重新封装的异步代码

5. test1还存在许多问题，比如请求API未进行限速，导致服务器断连。test2对rest api请求全部进行了限速。


可以改善的点

1. 检查套利机会时倒入了合约与现货价差大于千分之二的条件，可以进一步优化，如增加记录过去7天平均价差的功能，可以根据历史数据修改价差阈值。理论上价差会收敛，所以肯定是在价差越大时开仓越安全，也可以考虑在价差反转时平仓。

2.可以把staretgy也写成class

3. test2的策略是所有套利模式都上3倍杠杆，提升资金利用率进行套利，但是面临交易所利息较高的问题，不能长时间持仓。 之后可以考虑在正套时采用纯现货不加杠杆的模式，这样进行正套时可以长时间持仓，可以避免频繁开关仓造成的手续费损失